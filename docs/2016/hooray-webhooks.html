<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.4.1 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Hooray, Webhooks - Blog</title>




<meta name="description" content="Webhooks are “user-defined HTTP callbacks” brought by Jeff Lindsay. While it’s augmented for some time, it comes to my sight because of continuous integration like Travis CI at GitHub. Later, Slack made it fancy as every services could pop up messages in the channel as if I was in Enterprise bridge:">




<meta name="author" content="Erick Guan">

<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Blog">
<meta property="og:title" content="Hooray, Webhooks">


  <link rel="canonical" href="https://erickguan.me/2016/hooray-webhooks">
  <meta property="og:url" content="https://erickguan.me/2016/hooray-webhooks">



  <meta property="og:description" content="Webhooks are “user-defined HTTP callbacks” brought by Jeff Lindsay. While it’s augmented for some time, it comes to my sight because of continuous integration like Travis CI at GitHub. Later, Slack made it fancy as every services could pop up messages in the channel as if I was in Enterprise bridge:">



  <meta name="twitter:site" content="@erickguan">
  <meta name="twitter:title" content="Hooray, Webhooks">
  <meta name="twitter:description" content="Webhooks are “user-defined HTTP callbacks” brought by Jeff Lindsay. While it’s augmented for some time, it comes to my sight because of continuous integration like Travis CI at GitHub. Later, Slack made it fancy as every services could pop up messages in the channel as if I was in Enterprise bridge:">
  <meta name="twitter:url" content="https://erickguan.me/2016/hooray-webhooks">

  
    <meta name="twitter:card" content="summary">
    
  

  
    <meta name="twitter:creator" content="@Erick Guan">
  



  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2016-03-14T00:00:00+01:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Erick Guan",
      "url" : "https://erickguan.me",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://erickguan.me/feed.xml" type="application/atom+xml" rel="alternate" title="Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://erickguan.me/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->

<meta http-equiv="cleartype" content="on">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#da532c">
<meta name="apple-mobile-web-app-title" content="Erick Guan">
<meta name="application-name" content="Erick Guan">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="https://erickguan.me/">Blog</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="https://erickguan.me/about">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://algalon.net">中文</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    



<div id="main" role="main">
  

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Hooray, Webhooks">
    <meta itemprop="description" content="Webhooks are “user-defined HTTP callbacks” brought by Jeff Lindsay. While it’s augmented for some time, it comes to my sight because of continuous integration like Travis CI at GitHub. Later, Slack made it fancy as every services could pop up messages in the channel as if I was in Enterprise bridge:">
    <meta itemprop="datePublished" content="March 14, 2016">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Hooray, Webhooks
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        <p>Webhooks are “user-defined HTTP callbacks” <a href="http://progrium.com/blog/2007/05/03/web-hooks-to-revolutionize-the-web/">brought by Jeff Lindsay</a>. While it’s <a href="http://timothyfitz.com/2009/02/09/what-webhooks-are-and-why-you-should-care/">augmented</a> for some time, it comes to my sight because of continuous integration like Travis CI at GitHub. Later, Slack made it fancy as every services could pop up messages in the channel as if I was in Enterprise bridge:</p>

<p><img src="/assets/images/USS_Enterprise_(alternate_reality)_bridge.jpg" alt="Enterprise bridge" /></p>

<p>It’s also interesting to discover how it can be implemented on Ruby on Rails.</p>

<h2 id="case-study-webhooks-at-github-and-slack">Case Study: Webhooks at GitHub and Slack</h2>

<p>Since GitHub and Slack build great webhooks, it’s a good practice to see how they build the service.</p>

<h3 id="github">GitHub</h3>

<p>GitHub runs central repositories for git and origination services. It offers <a href="https://developer.github.com/webhooks/">webhooks</a> on organization level and repositories level where user can manage webhooks in the admin panel. GitHub allow users to create “up to 20 webhooks for each event on each installation target”. has an <a href="https://github.com/integrations">Integrations Directory</a></p>

<p>Events are triggered on certain scenario: (highlight)</p>

<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>Any time any event is triggered. <a href="#wildcard-event">Wildcard Event</a> overwrites other events.</td>
</tr>
<tr>
<td><a href="/v3/activity/events/types/#commitcommentevent"><code>commit_comment</code></a></td>
<td>Any time a Commit is commented on.</td>
</tr>
<tr>
<td><a href="/v3/activity/events/types/#pushevent"><code>push</code></a></td>
<td>Any Git push to a Repository. <strong>default event.</strong>
</td>
</tr>
</tbody>
</table>

<p>Illustrated in adding webhook page on the admin panel:</p>

<p><img src="/assets/images/github-add-webhooks.png" alt="Adding webhooks at GitHub" /></p>

<p>With pre-set configuration, GitHub is responsible for sending payload (JSON) based on <a href="https://developer.github.com/v3/activity/events/types/">event type</a>.</p>

<p>However, the payload size will be small than 5MB, otherwise, it will be discarded. It’s user’s responsibility to monitor payload size.</p>

<p>A HTTP header of webhooks includes event name, unique ID and signature by HMAC hex digest of the payload which uses hook’s secret as a key if secret is set.</p>

<p>GitHub build a great API. Webhook can be managed by its API. For testing reason, GitHub provides a <a href="https://developer.github.com/webhooks/#ping-event">Ping event to test a hook</a>, <a href="https://developer.github.com/v3/repos/hooks/#test-a-push-hook">hook’s test endpoint</a>.</p>

<p>Service hooks are defined sets of webhooks by the <a href="https://github.com/github/github-services">third party at github-services repo</a>. However, GitHub no longer accepts new service instead of urging new integration service to build OAuth application help managing webhooks. Be noted, GitHub integrations directory is different than services. It’s just a directory to help redirecting to third party services who manage webhooks.</p>

<h4 id="pubsubhubbub">PubSubHubbub</h4>

<p><a href="https://github.com/pubsubhubbub/PubSubHubbub">This crazy name (PubSubHubbub)</a> belongs to an open protocol for distributed publish/subscribe communication on the Internet. Their <a href="http://pubsubhubbub.github.io/PubSubHubbub/pubsubhubbub-core-0.4.html">specification</a> defines a decoupled flow for webhooks.</p>

<p><a href="https://wordpress.org/plugins/pubsubhubbub/">A Wordpress plugin</a> helps you announce new blog post. And GitHub can <a href="https://developer.github.com/v3/repos/hooks/#pubsubhubbub">serve as a PubSubHubbub hub</a> for all repositories.</p>

<p>It’s designed to <a href="https://github.com/pubsubhubbub/PubSubHubbub/wiki/Why-Polling-Sucks">overcome polling for getting feed updates</a>. GitHub will create a webhook if you request the hub.</p>

<h3 id="slack">Slack</h3>

<p>Slack builds the fancy messaging app for teams. Many integrations and bots are just favorable.</p>

<p>Basically, Slack offers incoming and outgoing webhooks. Slash commands is built on these two webhooks.</p>

<p>In terms of <a href="https://api.slack.com/incoming-webhooks">incoming webhooks</a>, sending a JSON payload and plain text to a hashed url would trigger a message with defined name and icon. Simple as that.
<a href="https://api.slack.com/outgoing-webhooks">Outgoing webhooks</a> come with receiving payload of messages. A payload will be sent when triggered by keywords or a new message on the channel. The integrated services can reply back if they want.</p>

<p>As an extension of outgoing webhooks, slash commands send payload to server and reply messages back to the channel. However, bots are separated from other webhooks. They build upon <a href="https://api.slack.com/web">Slack API</a> and <a href="https://api.slack.com/rtm">realtime API</a>.</p>

<h2 id="considerations">Considerations</h2>

<p>Webhooks are highly application-specific. Event payloads would be transported in secure (HTTPS) or plaintext (Don’t care) manner according to the content. Therefore, signature (symmetric key) or a token can be used as a way to authentication. For ambitious applications, they offers a way to package webhooks as a service to minimize the deployment cost of webhooks.</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://erickguan.me/tags/#web" class="page__taxonomy-item" rel="tag">Web</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Updated:</strong> <time datetime="2016-03-14T00:00:00+01:00">March 14, 2016</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=erickguan&text=Hooray, Webhooks https://erickguan.me/2016/hooray-webhooks" class="btn btn--twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://erickguan.me/2016/hooray-webhooks" class="btn btn--facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://plus.google.com/share?url=https://erickguan.me/2016/hooray-webhooks" class="btn btn--google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://erickguan.me/2016/hooray-webhooks" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="https://erickguan.me/2015/ensure-the-file-uploaded-by-refile" class="pagination--pager" title="Ensuring the file uploaded by Refile
">Previous</a>
    
    
      <a href="https://erickguan.me/2017/unicode-what-changes" class="pagination--pager" title="Unicode is more than encoding
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
    
        <h4 class="page__comments-title">Leave a Comment</h4>
        <section id="disqus_thread"></section>
      
</div>
    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="https://twitter.com/erickguan"><i class="fa fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
    
    
    
      <li><a href="http://github.com/fantasticfears"><i class="fa fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="https://erickguan.me/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2017 Erick Guan. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    <script src="https://erickguan.me/assets/js/main.min.js"></script>




  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-36993160-8', 'auto');
  ga('send', 'pageview');
</script>





  
      
  <script type="text/javascript">
  	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  	var disqus_shortname = 'fftenacity';

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function() {
  		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  	})();

  	/* * * DON'T EDIT BELOW THIS LINE * * */
  	(function () {
  		var s = document.createElement('script'); s.async = true;
  		s.type = 'text/javascript';
  		s.src = '//' + disqus_shortname + '.disqus.com/count.js';
  		(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  	}());
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    



  </body>
</html>
