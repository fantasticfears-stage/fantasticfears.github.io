<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Digging in Python iterator and enumerate - Blog</title>
<meta name="description" content="When a PyTorch DataLoader repeat its data? Why it’s so magical and impossible to see in its code. It is implemented as an iterator in Python. Pythonic but implicit.  ">


  <meta name="author" content="Erick Guan">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Blog">
<meta property="og:title" content="Digging in Python iterator and enumerate">
<meta property="og:url" content="https://erickguan.me/2018/python-iterator">


  <meta property="og:description" content="When a PyTorch DataLoader repeat its data? Why it’s so magical and impossible to see in its code. It is implemented as an iterator in Python. Pythonic but implicit.  ">



  <meta property="og:image" content="https://erickguan.me/assets/images/2018/erik-eastman-256489-unsplash-200.jpg">



  <meta name="twitter:site" content="@erickguan">
  <meta name="twitter:title" content="Digging in Python iterator and enumerate">
  <meta name="twitter:description" content="When a PyTorch DataLoader repeat its data? Why it’s so magical and impossible to see in its code. It is implemented as an iterator in Python. Pythonic but implicit.  ">
  <meta name="twitter:url" content="https://erickguan.me/2018/python-iterator">

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://erickguan.me/assets/images/2018/erik-eastman-256489-unsplash-200.jpg">
  

  
    <meta name="twitter:creator" content="@erickguan">
  



  <meta property="article:published_time" content="2018-11-04T00:00:00+01:00">





  

  


<link rel="canonical" href="https://erickguan.me/2018/python-iterator">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Erick Guan",
      "url": "https://erickguan.me/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Blog Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#da532c">
<meta name="apple-mobile-web-app-title" content="Erick Guan">
<meta name="application-name" content="Erick Guan">
<meta name="theme-color" content="#ffffff">

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about">About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      
  







<div class="page__hero"
  style=" background-image: url('');"
>
  
    <img src="/assets/images/2018/erik-eastman-256489-unsplash-1400.jpg" alt="Digging in Python iterator and enumerate" class="page__hero-image">
  
  
    <span class="page__hero-caption">Photo by <a href="https://unsplash.com/photos/yiptq3TFiX8?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Erik Eastman</a> on <a href="https://unsplash.com/search/photos/iterable?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a>
</span>
  
</div>





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Digging in Python iterator and enumerate">
    <meta itemprop="description" content="When a PyTorch DataLoader repeat its data? Why it’s so magical and impossible to see in its code. It is implemented as an iterator in Python. Pythonic but implicit.">
    <meta itemprop="datePublished" content="2018-11-04T00:00:00+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Digging in Python iterator and enumerate
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>When a PyTorch DataLoader repeat its data? Why it’s so magical and impossible to see in its code. It is implemented as an iterator in Python. Pythonic but implicit.</p>

<h1 id="use-case">Use case</h1>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">i_batch</span><span class="p">,</span> <span class="n">sample_batched</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data_loader</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i_batch</span><span class="p">,</span> <span class="n">sample_batched</span><span class="p">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">enumerate</code> is not hard to understand which only <a href="https://docs.python.org/3/library/functions.html#enumerate">returns the sequence and iterator’s content.</a>
So what iterator does is the key to the puzzle.</p>

<h1 id="iterator">Iterator</h1>

<p>We can find Python’s <a href="https://docs.python.org/3/glossary.html#term-iterator">document</a> about the iterator:</p>
<blockquote>
  <p>An object representing a stream of data. Repeated calls to the iterator’s <code class="language-plaintext highlighter-rouge">__next__()</code> method (or passing it to the built-in function <code class="language-plaintext highlighter-rouge">next()</code>) return successive items in the stream. When no more data are available a StopIteration exception is raised instead. At this point, the iterator object is exhausted and any further calls to its <code class="language-plaintext highlighter-rouge">__next__()</code> method just raise StopIteration again. Iterators are required to have an <code class="language-plaintext highlighter-rouge">__iter__() </code>method that returns the iterator object itself so every iterator is also iterable and may be used in most places where other iterables are accepted. One notable exception is code which attempts multiple iteration passes. A container object (such as a list) produces a fresh new iterator each time you pass it to the iter() function or use it in a for loop. Attempting this with an iterator will just return the same exhausted iterator object used in the previous iteration pass, making it appear like an empty container.</p>
</blockquote>

<p>The document says a lot. When you use <code class="language-plaintext highlighter-rouge">next(data_loader)</code>, it gives you a new item.
And <code class="language-plaintext highlighter-rouge">StopIteration</code> will be raised when it’s exhausted. When we use <code class="language-plaintext highlighter-rouge">iter()</code> and <code class="language-plaintext highlighter-rouge">for</code> loop with the iterator, a container object is built and as a fresh new iterator.</p>

<p>That sounds complicated. How does it allocate? Who manages the resources? What about processes? GIL?</p>

<p>And more puzzles come. The document points to <a href="https://docs.python.org/3/library/stdtypes.html#typeiter">itertor types</a>. It didn’t explain the puzzles but introduced a new concept. A container can be used as an iterator if it supports <code class="language-plaintext highlighter-rouge">__iter__()</code>. Plus <code class="language-plaintext highlighter-rouge">__next__()</code>, it’ll form the iterator protocol.</p>

<p>But okay, it doesn’t explain anything. From my experience from Ruby (MRI),
the implementation of Python should be similar to Ruby. Let’s dig in  CPython.</p>

<h1 id="cpythons-iterator-support">CPython’s iterator support</h1>

<p>CPython supports <code class="language-plaintext highlighter-rouge">tp_iter</code> as API. That’s a good start. If you need to support an API, you have to implement it. The search comes to <a href="https://docs.python.org/3/c-api/typeobj.html">Type Objects</a>.</p>

<p>CPython seems to have a regular type object for every type. That’s good to find stuff. Maybe it’s also scary to have that long type definition if you have to define a new custom object. Loot at Asian’s work, Ruby (MRI) has a surprisingly <a href="https://silverhammermba.github.io/emberb/c/#data">clean interface</a> since it’s managed in the object inheritance. We are too responsible for doing other’s work.
Though, the document doesn’t explain how <code class="language-plaintext highlighter-rouge">tp_iter</code> and <code class="language-plaintext highlighter-rouge">tp_iternext</code> were expected to use.</p>

<p>They are two places defined them. One is included in <code class="language-plaintext highlighter-rouge">typeobject.h</code> and the other one is <code class="language-plaintext highlighter-rouge">object.h</code>. Everything is objected in Python, so this is more relevant for now.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="n">_typeobject</span> <span class="p">{</span>
    <span class="cm">/* Iterators */</span>
    <span class="n">getiterfunc</span> <span class="n">tp_iter</span><span class="p">;</span>
    <span class="n">iternextfunc</span> <span class="n">tp_iternext</span><span class="p">;</span>
<span class="p">}</span> <span class="n">PyTypeObject</span><span class="p">;</span>
</code></pre></div></div>

<p>But it doesn’t explain how different type implements it. A list is a common sense for Python programmer so let’s look at <code class="language-plaintext highlighter-rouge">listobject.c</code>. CPython uses reference counting GC. So heap
space is used for object allocation. The other pairs of functions are reference counting.</p>

<h2 id="list-iterator-object">List iterator object</h2>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">PyObject_HEAD</span>
    <span class="n">Py_ssize_t</span> <span class="n">it_index</span><span class="p">;</span>
    <span class="n">PyListObject</span> <span class="o">*</span><span class="n">it_seq</span><span class="p">;</span> <span class="cm">/* Set to NULL when iterator is exhausted */</span>
<span class="p">}</span> <span class="n">listiterobject</span><span class="p">;</span>

<span class="k">static</span> <span class="n">PyObject</span> <span class="o">*</span>
<span class="nf">list_iter</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">seq</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">listiterobject</span> <span class="o">*</span><span class="n">it</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">PyList_Check</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">PyErr_BadInternalCall</span><span class="p">();</span>
        <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">it</span> <span class="o">=</span> <span class="n">PyObject_GC_New</span><span class="p">(</span><span class="n">listiterobject</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">PyListIter_Type</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
    <span class="n">it</span><span class="o">-&gt;</span><span class="n">it_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">Py_INCREF</span><span class="p">(</span><span class="n">seq</span><span class="p">);</span>
    <span class="n">it</span><span class="o">-&gt;</span><span class="n">it_seq</span> <span class="o">=</span> <span class="p">(</span><span class="n">PyListObject</span> <span class="o">*</span><span class="p">)</span><span class="n">seq</span><span class="p">;</span>
    <span class="n">_PyObject_GC_TRACK</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="p">)</span><span class="n">it</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This finally explains how container objects get its allocator. A new struct and new object are used to get iterator in Python. Then we can come to an iterator object.</p>

<h2 id="iterator-object">Iterator object</h2>

<p>The funny thing is that you can’t construct an iterator in Python (<code class="language-plaintext highlighter-rouge">iterator()</code>). According to another document says:</p>

<blockquote>
  <p>An iterable object is an object that implements <code class="language-plaintext highlighter-rouge">__iter__</code>, which is expected to return an iterator object.</p>
</blockquote>

<p>In the source code, you find similarity.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">typedef</span> <span class="n">struct</span> <span class="p">{</span>
    <span class="n">PyObject_HEAD</span>
    <span class="n">Py_ssize_t</span> <span class="n">it_index</span><span class="p">;</span>
    <span class="n">PyObject</span> <span class="o">*</span><span class="n">it_seq</span><span class="p">;</span> <span class="o">/*</span> <span class="n">Set</span> <span class="n">to</span> <span class="n">NULL</span> <span class="n">when</span> <span class="n">iterator</span> <span class="ow">is</span> <span class="n">exhausted</span> <span class="o">*/</span>
<span class="p">}</span> <span class="n">seqiterobject</span><span class="p">;</span>

<span class="n">PyObject</span> <span class="o">*</span>
<span class="n">PySeqIter_New</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">seq</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">seqiterobject</span> <span class="o">*</span><span class="n">it</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">PySequence_Check</span><span class="p">(</span><span class="n">seq</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">PyErr_BadInternalCall</span><span class="p">();</span>
        <span class="k">return</span> <span class="n">NULL</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">it</span> <span class="o">=</span> <span class="n">PyObject_GC_New</span><span class="p">(</span><span class="n">seqiterobject</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">PySeqIter_Type</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">it</span> <span class="o">==</span> <span class="n">NULL</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">NULL</span><span class="p">;</span>
    <span class="n">it</span><span class="o">-&gt;</span><span class="n">it_index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">Py_INCREF</span><span class="p">(</span><span class="n">seq</span><span class="p">);</span>
    <span class="n">it</span><span class="o">-&gt;</span><span class="n">it_seq</span> <span class="o">=</span> <span class="n">seq</span><span class="p">;</span>
    <span class="n">_PyObject_GC_TRACK</span><span class="p">(</span><span class="n">it</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="p">)</span><span class="n">it</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">static</span> <span class="n">PyObject</span> <span class="o">*</span>
<span class="n">iter_iternext</span><span class="p">(</span><span class="n">PyObject</span> <span class="o">*</span><span class="n">iterator</span><span class="p">)</span>
<span class="p">{</span>
    <span class="o">...</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">PySequence_GetItem</span><span class="p">(</span><span class="n">seq</span><span class="p">,</span> <span class="n">it</span><span class="o">-&gt;</span><span class="n">it_index</span><span class="p">);</span>

    <span class="o">...</span>
<span class="p">}</span>
</code></pre></div></div>

<p>It’s not much different except here it expects an iterable object. It also
builds the iterator object. So the last thing would be where <code class="language-plaintext highlighter-rouge">for</code> allocates
iterator.</p>

<h2 id="how-for-allocates-the-iterator">How <code class="language-plaintext highlighter-rouge">for</code> allocates the iterator?</h2>

<p>Let’s go back to the example <code class="language-plaintext highlighter-rouge">for i_batch, sample_batched in enumerate(data_loader):</code>.
When <code class="language-plaintext highlighter-rouge">for</code> statements get evaluated, the <code class="language-plaintext highlighter-rouge">testlist</code> which is <code class="language-plaintext highlighter-rouge">data_loader</code> object if not consider <code class="language-plaintext highlighter-rouge">enumerate</code> will be evaluated. It’s evaluated by executing <code class="language-plaintext highlighter-rouge">__iter__()</code>
and <code class="language-plaintext highlighter-rouge">__next__()</code>. And an implicit generator will get allocated!</p>

<p>Until now, we know how CPython allocates the iterator as well as who manages the resource.</p>

<h1 id="process-management-and-gil">Process management and GIL?</h1>

<p>It’s a wrong question as of now. If CPython manages the resource, it’s
always going to be local and constrained by GIL.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#programing-language" class="page__taxonomy-item" rel="tag">Programing language</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#python" class="page__taxonomy-item" rel="tag">Python</a>
    
    </span>
  </p>




        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-11-04T00:00:00+01:00">November 4, 2018</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?via=erickguan&text=Digging+in+Python+iterator+and+enumerate%20https%3A%2F%2Ferickguan.me%2F2018%2Fpython-iterator" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Ferickguan.me%2F2018%2Fpython-iterator" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Ferickguan.me%2F2018%2Fpython-iterator" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2017/k-nearest-neighbour-in-scikit-learn" class="pagination--pager" title="K-Nearest Neighbor Classification in Scikit Learn
">Previous</a>
    
    
      <a href="/2018/take-it-slow-in-life" class="pagination--pager" title="Take it slow in life
">Next</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Leave a Comment</h4>
      <section id="disqus_thread"></section>
    
</div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/2020/taylor-vick-M5tzZtFCOfs-unsplash-200.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020/popular-connectors-for-computers" rel="permalink">Popular connectors for computers
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">Pin out tables, some photos and parts of data come from Wikipedia.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/2019/jon-tyson-520955-unsplash-200.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/a-decade-with-wikipedia" rel="permalink">A decade with Wikipedia
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">I’ve spent a decade with Wikipedia.

</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/2019/Pytorch_logo-200.png" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019/pytorch-parallel-model" rel="permalink">How PyTorch implements DataParallel?
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">PyTorch can send batches and models to different GPUs automatically with DataParallel(model). How is it possible? I assume you know PyTorch uses dynamic comp...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src="/assets/images/2018/antenna-503044-unsplash-200.jpg" alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2018/how-to-have-a-data-science-lab" rel="permalink">How to have a data science lab in 13 steps?
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">TL;DR. You have to be passionate and insane. I would not recommend doing it.

</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>


        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Erick Guan. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>







  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-36993160-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-36993160-8', { 'anonymize_ip': false});
</script>






    
  <script>
    var disqus_config = function () {
      this.page.url = "https://erickguan.me/2018/python-iterator";  /* Replace PAGE_URL with your page's canonical URL variable */
      this.page.identifier = "/2018/python-iterator"; /* Replace PAGE_IDENTIFIER with your page's unique identifier variable */
    };
    (function() { /* DON'T EDIT BELOW THIS LINE */
      var d = document, s = d.createElement('script');
      s.src = 'https://fftenacity.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
